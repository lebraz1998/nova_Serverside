(this["webpackJsonpnova-reactjs"]=this["webpackJsonpnova-reactjs"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(36),r=n.n(c),s=(n(134),n(135),n(55)),o=n(75),u={username:""},j=sessionStorage.getItem("login");j&&(u.username=j),console.log(j);var l=Object(o.b)({name:"login",initialState:{username:u.username},reducers:{setLogin:function(e,t){e.username=t.payload.username},deleteLogin:function(e){e.username="a"}}}),d=l.actions,b=d.setLogin,p=(d.deleteLogin,l.reducer),m=Object(o.a)({reducer:{login:p}}),O=n(251),h=n(252),x=n(241),f=n(245),g=n(221),v=n(113),w=n(17),y=n(12),k=n(24),A=n(115),S=n(216),T=n(222),C=n(234),B=n(238),I=n(228),W=n(240),F=n(243),L=n(231),z=n(247),M=n(248),P=n(244),_=n(249),D=n(215),E=n(1);function N(e){var t=e.icon,n=e.title,a=e.value,i=e.color;return Object(E.jsx)(B.a,{style:{padding:0},children:Object(E.jsxs)(W.a,{style:{display:"flex",alignItems:"start",padding:0},children:[Object(E.jsx)(D.a,{width:"80px",height:"110px",style:{backgroundColor:i},children:t}),Object(E.jsxs)("div",{style:{padding:10},children:[" ",Object(E.jsx)(x.a,{fontSize:"30px",children:a}),Object(E.jsx)(x.a,{fontSize:"25px",fontWeight:"400",children:n})]})," "]})})}var R=n(114),G=(n(142),n(223)),J=n(56),U=n.n(J),V=n(35),$=n.n(V),q=n(61),H=n(45),K=n(46),Q=n(34),X=n.n(Q);X.a.defaults.withCredentials=!0;var Y=function(){function e(){Object(H.a)(this,e),X.a.defaults.withCredentials=!0}return Object(K.a)(e,[{key:"getAppointment",value:function(){var e=Object(q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/api/appointment");case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBook",value:function(){var e=Object(q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/api/book");case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addBook",value:function(){var e=Object(q.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.post("/api/book",t);case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBook",value:function(){var e=Object(q.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.delete("/api/book/"+t);case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAppointment",value:function(){var e=Object(q.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,X.a.put("/api/appointment/".concat("accpeted"===t.status?"accpet":"reject","/").concat(t._id,"/").concat("accpeted"===t.status?t.id:""));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Z=n(220),ee=n(227),te=n(226),ne=n(110),ae=["onChange"],ie=i.a.forwardRef((function(e,t){var n=e.onChange,a=Object(A.a)(e,ae);return Object(E.jsx)(ne.a,Object(k.a)(Object(k.a)({},a),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))}));function ce(){var e=Object(a.useState)(new Date),t=Object(y.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({startAppointmentTime:new Date,endAppointmentTime:new Date,title:"",price:0}),r=Object(y.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)(!1),j=Object(y.a)(u,2),l=j[0],d=j[1],b=Object(a.useState)(!1),p=Object(y.a)(b,2),m=p[0],O=p[1],h=Object(a.useState)(!1),v=Object(y.a)(h,2),w=v[0],A=v[1],D=Object(a.useState)([]),J=Object(y.a)(D,2),V=J[0],$=J[1],q=Object(a.useState)([]),H=Object(y.a)(q,2),K=H[0],Q=H[1],X=Object(a.useMemo)((function(){return new Y}),[]);return Object(a.useEffect)((function(){X.getAppointment().then((function(e){console.log(e),200===e.statusCode&&($(e.result),X.getBook().then((function(e){Q(e.result),d(!0)})))}))}),[X]),l?Object(E.jsx)("div",{style:{padding:25},children:Object(E.jsxs)(C.a,{container:!0,spacing:4,children:[Object(E.jsxs)(C.a,{item:!0,xs:12,md:4,children:[Object(E.jsx)(N,{icon:Object(E.jsx)(S.a,{style:{fontSize:60,color:"white",padding:10}}),title:"Accpeted",value:V.filter((function(e){return"accpeted"===e.status})).length+"",color:"#3498db"})," "]}),Object(E.jsxs)(C.a,{item:!0,xs:12,md:4,children:[Object(E.jsx)(N,{icon:Object(E.jsx)(S.a,{style:{fontSize:60,color:"white",padding:10}}),title:"Waiting",value:V.filter((function(e){return"wating"===e.status})).length+"",color:"#f1c40f"})," "]}),Object(E.jsxs)(C.a,{item:!0,xs:12,md:4,children:[Object(E.jsx)(N,{icon:Object(E.jsx)(S.a,{style:{fontSize:60,color:"white",padding:10}}),title:"Rejacted",value:V.filter((function(e){return"rejacted"===e.status})).length+"",color:"#e74c3c"})," "]}),Object(E.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(E.jsx)(R.a,{onChange:function(e){i(e)},value:n})}),Object(E.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)("div",{children:Object(E.jsx)(x.a,{fontSize:"22pt",children:"Add Appointment"})})," ",Object(E.jsx)(I.a,{value:s.title,label:"Book Title",name:"title",style:{marginBottom:10},fullWidth:!0,onChange:function(e){o((function(t){return Object(k.a)(Object(k.a)({},t),{},{title:e.target.value})}))}}),Object(E.jsx)(I.a,{fullWidth:!0,label:"Book Price",value:s.price,style:{marginBottom:15},onChange:function(e){o((function(t){return Object(k.a)(Object(k.a)({},t),{},{price:parseInt(e.target.value)})}))},name:"numberformat",id:"formatted-numberformat-input",InputProps:{inputComponent:ie},variant:"outlined"}),Object(E.jsxs)(Z.b,{dateAdapter:te.a,children:[Object(E.jsx)(ee.a,{label:"Start Appointment ",value:s.startAppointmentTime,onChange:function(e){console.log(e),o((function(t){return Object(k.a)(Object(k.a)({},t),{},{startAppointmentTime:e})}))},renderInput:function(e){return Object(E.jsx)(I.a,Object(k.a)({},e))}}),Object(E.jsx)("div",{style:{marginTop:15}}),Object(E.jsx)(ee.a,{label:"End Appointment ",value:s.endAppointmentTime,onChange:function(e){console.log(e),o((function(t){return Object(k.a)(Object(k.a)({},t),{},{endAppointmentTime:e})}))},renderInput:function(e){return Object(E.jsx)(I.a,Object(k.a)({},e))}})]}),Object(E.jsx)(f.a,{fullWidth:!0,variant:"contained",style:{marginTop:10},disabled:0===s.price||"NaN"===s.price.toString()||""===s.title,onClick:function(){O(!0),X.addBook({endAppointmentTime:s.endAppointmentTime.getTime(),startAppointmentTime:s.startAppointmentTime.getTime(),title:s.title,price:s.price}).then((function(e){o({title:"",price:0,endAppointmentTime:s.endAppointmentTime,startAppointmentTime:s.startAppointmentTime}),O(!1),X.getBook().then((function(e){return Q(e.result)}))}))},children:"Add"}),Object(E.jsxs)(W.a,{children:[Object(E.jsxs)(g.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(E.jsxs)(F.a,{children:[K.filter((function(e){return U()(e.startAppointmentTime).format("dd-MMM-yyyy")===U()(n.getTime()).format("dd-MMM-yyyy")&&!1===e.taken})).map((function(e){return Object(E.jsx)(L.a,{disablePadding:!0,children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(x.a,{variant:"h4",children:e.title}),Object(E.jsxs)(x.a,{variant:"body1",children:["Start Time:",U()(e.endAppointmentTime).format("hh:mm a")," * End Time:",U()(e.endAppointmentTime).format("hh:mm a")]}),Object(E.jsx)(f.a,{variant:"contained",style:{width:"100%"},onClick:function(t){O(!0),X.deleteBook(e._id).then((function(e){O(!1),X.getBook().then((function(e){return Q(e.result)}))}))},children:Object(E.jsx)(T.a,{})})]})},e._id)}))," "]}),Object(E.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",m?Object(E.jsx)(z.a,{}):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)(M.a,{})]})]})}),Object(E.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(x.a,{fontSize:"22pt",children:"Waiting Appointment"}),Object(E.jsxs)(W.a,{children:[Object(E.jsxs)(g.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(E.jsx)(F.a,{children:V.filter((function(e){return"wating"===e.status})).map((function(e){return Object(E.jsxs)(L.a,{disablePadding:!0,style:{display:"block"},children:[Object(E.jsx)(x.a,{variant:"h5",children:e.title}),Object(E.jsxs)(x.a,{children:["Start Time:"," ",U()(e.startAppointmentTime).format("hh:mm a")," * End Time:",U()(e.endAppointmentTime).format("hh:mm a")]}),Object(E.jsx)(P.a,{onClick:function(t){A(!0),X.updateAppointment({id:e.id,_id:e._id,status:"rejacted"}).then((function(e){A(!1),X.getAppointment().then((function(e){return $(e.result)}))}))},children:Object(E.jsx)(T.a,{})}),Object(E.jsx)(P.a,{onClick:function(t){A(!0),X.updateAppointment({id:e.id,_id:e._id,status:"accpeted"}).then((function(e){O(!0),A(!1),X.getAppointment().then((function(e){return $(e.result)})),X.getBook().then((function(e){O(!1),Q(e.result)}))}))},children:Object(E.jsx)(G.a,{})}),Object(E.jsx)(M.a,{})]},e._id)}))}),Object(E.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",w?Object(E.jsx)(z.a,{}):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)(M.a,{})]})]})})]})}):Object(E.jsx)(_.a,{children:Object(E.jsx)(z.a,{})})}var re=n(5),se=n(224),oe=n(225),ue=n(250),je=n(242),le=n(233),de=n(235),be=n(246);X.a.defaults.withCredentials=!0;var pe=function(){function e(){Object(H.a)(this,e)}return Object(K.a)(e,[{key:"login",value:function(e){return X.a.post("/api/user",e)}}]),e}();function me(){var e=Object(s.b)(),t=Object(a.useMemo)((function(){return new pe}),[]),n=Object(a.useState)(!1),c=Object(y.a)(n,2),r=c[0],o=c[1],u=Object(w.f)().replace,j=Object(a.useState)({username:"",password:""}),l=Object(y.a)(j,2),d=l[0],p=l[1],m=Object(a.useState)(!1),O=Object(y.a)(m,2),h=O[0],g=O[1],v=Object(a.useState)(!1),A=Object(y.a)(v,2),S=A[0],T=A[1],C=Object(a.useCallback)((function(e){p((function(t){return Object(k.a)(Object(k.a)({},t),{},Object(re.a)({},"".concat(e.target.name),e.target.value))}))}),[]);return Object(E.jsxs)(i.a.Fragment,{children:[" ",h?Object(E.jsx)(ue.a,{}):Object(E.jsx)(E.Fragment,{})," ",Object(E.jsx)(_.a,{maxWidth:"xs",children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(x.a,{fontSize:"30px",textAlign:"center",children:"Nova-Lab Login"}),Object(E.jsxs)(W.a,{children:[Object(E.jsx)(I.a,{onChange:C,name:"username",id:"outlined-basic",fullWidth:!0,label:"Username",variant:"outlined"}),Object(E.jsx)("div",{style:{marginTop:10}}),Object(E.jsxs)(je.a,{sx:{width:"100%"},variant:"outlined",children:[Object(E.jsx)(le.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(E.jsx)(de.a,{type:r?"text":"password",onChange:C,name:"password",id:"outlined-adornment-password",endAdornment:Object(E.jsx)(be.a,{position:"end",children:Object(E.jsx)(P.a,{onClick:function(){return o(!r)},"aria-label":"toggle password visibility",edge:"end",children:r?Object(E.jsx)(se.a,{}):Object(E.jsx)(oe.a,{})})}),label:"Password"})]}),Object(E.jsx)(f.a,{disabled:h||""===d.username||""===d.password,variant:"contained",fullWidth:!0,style:{marginTop:10},onClick:function(){T(!1),g(!0),t.login(d).then((function(t){g(!1),e(b({username:d.username})),u("/")})).catch((function(e){T(!0),g(!1)}))},children:"Login"}),S?Object(E.jsx)(x.a,{align:"center",fontSize:18,color:"red",children:"Wrong username or password"}):Object(E.jsx)(E.Fragment,{})]})]})})]})}function Oe(){var e=Object(s.c)((function(e){return e.login.username})),t=Object(s.b)();return Object(E.jsx)(v.a,{children:Object(E.jsxs)(w.c,{children:[Object(E.jsx)(w.a,{path:"/",exact:!0,render:function(){return""===e?(window.location="/login",Object(E.jsx)(me,{})):Object(E.jsxs)(i.a.Fragment,{children:[Object(E.jsx)(g.a,{sx:{flexGrow:1},children:Object(E.jsx)(O.a,{position:"static",children:Object(E.jsxs)(h.a,{children:[Object(E.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(E.jsx)(f.a,{onClick:function(){sessionStorage.removeItem("login"),t(b({username:"",type:"login"})),window.location="/login"},color:"inherit",children:"Logout"})]})})}),Object(E.jsx)(ce,{})]})}}),Object(E.jsx)(w.a,{path:"/login",component:me})]})})}var he=function(){return m.subscribe((function(){console.log(m.getState().login.username),sessionStorage.setItem("login",m.getState().login.username)})),Object(E.jsx)(s.a,{store:m,children:Object(E.jsx)(Oe,{})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(he,{})}),document.getElementById("root")),xe()}},[[169,1,2]]]);
//# sourceMappingURL=main.18abed96.chunk.js.map